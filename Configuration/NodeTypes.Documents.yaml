---

'UpAssist.Neos.News:Document':
  abstract: TRUE
  superTypes:
    'TYPO3.Neos:Document': true

'UpAssist.Neos.News:Article':
  superTypes:
    'UpAssist.Neos.News:Document': TRUE
    'Neos.NodeTypes:TitleMixin': TRUE
  ui:
    label: 'News'
    icon: 'icon-file-text-alt'
  childNodes:
    main:
      type: 'TYPO3.Neos:ContentCollection'
  properties:
    _hiddenInIndex:
      defaultValue: FALSE
    publicationDate:
      type: DateTime
      ui:
        label: 'Publication Date'
        inspector:
          group: 'document'
          editorOptions:
            format: 'd-m-Y H:i'
      validation:
        'TYPO3.Neos/Validation/NotEmptyValidator': []
        'TYPO3.Neos/Validation/DateTimeValidator': []
      search:
        elasticSearchMapping:
          type: date
          include_in_all: false
          format: 'date_time_no_millis'
        indexing: '${(node.properties.publicationDate ? Date.format(node.properties.publicationDate, "Y-m-d\TH:i:sP") : null)}'
  postprocessors:
    'Postprocessor':
      postprocessor: 'UpAssist\Neos\News\NodeTypePostprocessor\ArticleNodeTypePostprocessor'

'UpAssist.Neos.News:Index':
  superTypes:
    'UpAssist.Neos.News:Document': TRUE
  childNodes:
    main:
      type: 'TYPO3.Neos:ContentCollection'
  ui:
    label: 'News Index'
    icon: 'icon-list'
  properties:
    title:
      defaultValue: 'News'
